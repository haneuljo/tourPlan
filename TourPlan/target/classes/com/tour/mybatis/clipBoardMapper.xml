<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.tour.clipBoard">

	<select id="clipCount" resultType="com.tour.dto.ClipBoardDTO">
		select distinct contentid, 
		count(*) over (PARTITION BY contentid) clipCount from clipBoard 
		order by clipCount desc
	</select>
	
	<select id="myclip" parameterType="String" resultType="com.tour.dto.ClipBoardDTO">
		select * from clipboard where email=#{email}
	</select>
	
	<select id="maxNum" resultType="int">
	select nvl(max(clipBoardNum),0) from clipBoard
	</select>
	
	<insert id="clipInsert" parameterType="com.tour.dto.ClipBoardDTO">
	
	insert into clipBoard(clipBoardNum,email,contentid)
	values (#{clipBoardNum},#{email},#{contentid})
	
	</insert>
	
<!-- <select id="getAddrData" resultType="com.tour.dto.PostDTO" parameterType="int"> 
	select seq,zipcode,sido,gugun,dong,bunji 
	from post where seq=#{seq}
</select> -->


</mapper> 